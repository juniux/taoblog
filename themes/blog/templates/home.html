{{define "custom_header"}}
<style>

#latest-comment-list > li > div {
    overflow: hidden;
}
#latest-comment-list > li > div > span {
    float: right; 
}

/* TODO 这个最大宽度应该是变量 */
@media screen and (max-width: 850px) {
#content > ul, .status > ul, #all-posts {
    padding-left: 0px;
}
}
</style>
{{end}}

{{define "custom_footer"}}

{{end}}

{{ render "header" . }}
<h2>近期文章</h2>
<ul>
{{range .Home.Posts}}
    <li><a href="{{.Link}}">{{.NonPublic}}{{.Title}}</a></li>
{{end}}
</ul>

<p id=all-posts><a href="/posts">所有文章...</a></p>

<h2>近期评论</h2>
{{ if .Home.Comments }}
<ul id=latest-comment-list>
{{range .Home.Comments}}
	<li><div>
		<b>{{.Author}}</b>：{{.Content}}
		<span>《<a href="/{{.PostId}}/#comments">{{.PostTitle}}</a>》</span>
	</div></li>
{{end}}
</ul>
{{ else }}
<ul>没有评论。</ul>
{{ end }}

{{ if .Config.Site.ShowStatus }}
<div class="status">
    <h2>服务状态</h2>
    <ul>
		<li>服务器开始运行于2014年12月24日，已运行 <span id="server-run-time">?</span> 天。</li>
		{{ with .Home }}
		<li>博客归档：文章数：{{.PostCount}}，页面数：{{.PageCount}}，评论数：{{.CommentCount}}。</li>
		{{ end }}
    </ul>
</div>
{{ end }}

{{ render "footer" . }}
